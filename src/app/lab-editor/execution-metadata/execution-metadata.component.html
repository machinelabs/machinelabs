<div *ngIf="execution | async as execution;">
  <md-card class="ml-execution-metadata" *ngIf="execution.status != ExecutionStatus.Pristine; else noExecutionMessage">
    <h4 class="ml-execution-metadata-headline"><md-icon>info</md-icon> Execution status</h4>
    <md-card-content class="ml-execution-metadata-content">
      <table>
        <tr>
          <td>ID:</td>
          <td>{{ execution.id }}</td>
        </tr>
        <tr>
          <td>Status:</td>
          <td>{{ execution.status | executionStatusLabel }}</td>
        </tr>
        <tr>
          <td>Started:</td>
          <td>{{ (execution.started_at | date: 'medium') || '-' }}</td>
        </tr>
        <tr>
          <td>Finished:</td>
          <td>{{ (execution.finished_at | date: 'medium') || '-' }}</td>
        </tr>
        <tr>
          <td>Duration:</td>
          <td>
            <ng-container *ngIf="execution.finished_at; else notAvailable">
              {{execution.started_at | distanceInWordsStrict: execution.finished_at}}</ng-container>
            <ng-template #notAvailable>{{executionTimer | async | distanceInWordsStrict: execution.started_at}}</ng-template>
          </td>
        </tr>
        <tr class="ml-execution-metadata-user-info">
          <td>Executed by:</td>
          <td>
            <ng-container *ngIf="executer | async as executer; else notAvailable">
              <img [src]="executer.photoUrl"> <a title="{{executer.displayName}}'s profile" [routerLink]="['/user', executer.id]">{{executer.displayName}}</a>
            </ng-container>
          </td>
        </tr>
      </table>
    </md-card-content>
  </md-card>
</div>

<ng-template #noExecutionMessage>
  <div class="ml-execution-metadata-no-execution-message">
    <md-icon class="ml-execution-metadata-no-execution-message-icon">info_outline</md-icon>
    <h4 class="ml-execution-metadata-no-execution-message-headline">No information available</h4>
    <p class="ml-execution-metadata-no-execution-message-text">Execute your lab and its execution data will show up here.</p>
  </div>
</ng-template>
