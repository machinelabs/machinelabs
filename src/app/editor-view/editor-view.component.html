<div fxLayout="column" style="flex: 1;">
  <ml-toolbar
    [lab]="lab"
    [context]="context"
    (action)="toolbarAction($event)"
    ></ml-toolbar>
  <div fxFlex="1">
    <md-sidenav-container>
      <md-sidenav opened="true" mode="side" #sidenav class="ml-sidebar">
        <ml-panel panelTitle="Files">
          <ml-file-tree
            [files]="lab.files"
            [selectedFile]="activeFile"
            (selectFile)="openFile($event)"
            (removeFile)="deleteFile($event)"
            (editFile)="openFileNameDialog($event)"
            (addFile)="openFileNameDialog()"></ml-file-tree>
          <ml-panel-title>Description</ml-panel-title>
          <p class="ml-lab-description">{{lab.description}}</p>
          <ml-panel-title>Tags</ml-panel-title>
          <md-chip-list>
            <md-chip *ngFor="let tag of lab.tags">{{tag}}</md-chip>
          </md-chip-list>
        </ml-panel>
      </md-sidenav>
      <div role="main" style="flex: 1;" flexLayout="row">
        <ml-panel [panelTitle]="activeFile.name" fxFlex="50">
          <ml-ace-editor
            #editor
            [(value)]="activeFile.content"
            mode="python"></ml-ace-editor>
        </ml-panel>
        <ml-panel panelTitle="Output" fxFlex="50">
          <ml-ace-editor
            [value]="output | async"
            [readOnly]="true"
            [showGutter]="false"
            mode="sh"></ml-ace-editor>
        </ml-panel>
      </div>
    </md-sidenav-container>
  </div>
  <div class="ml-footer">
    <div fxLayout="row" fxLayoutAlign="space-between center">
      <md-slide-toggle
        color="accent"
        [checked]="true"
        (click)="sidenav.toggle()">File browser</md-slide-toggle>
      <div class="ml-footer__status">
        <ml-execution-status [executionContext]="context"></ml-execution-status>
      </div>
      <div>
        <button disabled md-button md-raised-button md-primary class="elevated">Share</button>
        <button disabled md-button md-raised-button md-primary class="elevated">Embed</button>
      </div>
    </div>
  </div>
</div>
<!-- </div> -->
