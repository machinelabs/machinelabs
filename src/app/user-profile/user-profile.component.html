<ml-toolbar>
  <ml-toolbar-logo></ml-toolbar-logo>
  <ml-toolbar-cta-bar>
    <a routerLink="/editor" title="Launch Editor" md-button><md-icon>exit_to_app</md-icon> Launch Editor</a>
  </ml-toolbar-cta-bar>
  <ml-toolbar-menu></ml-toolbar-menu>
</ml-toolbar>
<div role="main">
  <div class="ml-user-profile-header">
    <h1>{{user.displayName}}</h1>
  </div>
  <div class="ml-user-profile-info-bar">
    <img class="ml-user-profile-avatar" alt="Avatar of {{user.displayName}}" [src]="user.photoUrl">
    <button *ngIf="isAuthUser" md-mini-fab color="accent" (click)="edit()"><md-icon>edit</md-icon></button>
    <p>{{user.bio}}</p>
  </div>
  <div class="ml-user-profile-content">
    <ng-container *ngIf="labs.length; else noLabsMessage">
      <ul class="ml-user-profile-lab-list">
        <li *ngFor="let lab of labs">
          <md-card>
            <md-card-title>{{lab.name | words: 10}}</md-card-title>
            <md-card-content>{{lab.description || 'This lab has no description.' | words:30}}</md-card-content>
            <ml-tag-list [tags]="lab.tags"></ml-tag-list>
            <md-card-actions class="ml-user-profile-lab-actions">
              <a md-button title="Open this lab in editor" [routerLink]="['/editor', lab.id]">OPEN IN EDITOR</a>
            </md-card-actions>
          </md-card>
        </li>
      </ul>
    </ng-container>
    <ng-template #noLabsMessage>
      <md-card class="ml-user-profile-no-labs-message">
        <md-card-title>
          You haven't built any Labs yet.
        </md-card-title>
        <md-card-content>
          <p>Hmmm...No sparks of genious here just yet, but no worries. We know you can do it, so go ahead.</p>
          <a md-raised-button color="primary" routerLink="/editor" [queryParams]="{tpl: 'blank'}" title="Create a new lab">Get started!</a>
        </md-card-content>
      </md-card>
    </ng-template>
  </div>
</div>
<footer class="ml-user-profile-footer">
  <p>&copy; 2017 MachineLabs, Inc</p>
</footer>
